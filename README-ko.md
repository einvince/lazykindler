
# Lazy Kindler
<br>

<!-- ![cooltext400798739959192](https://user-images.githubusercontent.com/16133390/147348820-9db84863-9431-4e67-814c-f1e1ddde8372.png) -->

<img src="./header.svg" width="800" height="400" alt="Click to see the source">


# ✨ 특징

- 🌈 책을 가져와서 효율적으로 목록을 보여줍니다.

- 💅 과학 소설이나 무술 소설 등의 컬렉션을 만들 수 있습니다.

- 🚀 다차원 디스플레이, 제목, 작가, 평점, 컬렉션, 태그 등으로 책 목록을 보여줍니다.

- 🛡 제목, 작가 또는 출판사와 같은 모든 키워드를 사용하여 책 검색

- 📦 오른쪽 클릭 메뉴를 이용하거나 관리되는 모든 책을 다운로드하여 책 다운로드

- 🛡 도서 읽기 기능 지원

- 📦 백업 기능. 데이터베이스에 `sqlite3`를 사용하고 모든 책을 지정된 디렉터리에 저장하기 때문에 백업하기가 용이합니다.

- 🎻 컴퓨터를 `kindle`에 연결할 때 하이라이트 된 노트 자동 가져오기

- 📣 안드로이드 장치에서 `静读天下apk`(Jing Du Tian Xia)에서 하이라이트된 노트 가져오기

- 🎺 하이라이트된 노트: 가져온 주석에 대한 '보조 하이라이트' 및 '보조 하이라이트 삭제' 지원

- 🥁 하이라이트된 노트에 코멘트 추가

- 🎻 하이라이트된 노트를 위한 컬렉션 만들기 및 카테고리별 관리

- 🚀 Kindle 어휘 생성기: 플랫폼은 kindle 어휘 생성기에서 책, 단어 및 예제를 가져오는 기능을 지원합니다.

# 지원되는 플랫폼

현재 `mac` 플랫폼에만 적용되어 있으며, `windows` 플랫폼에서 실행할 때 알 수없는 오류가 발생할 수 있습니다.

# 지원되는 eBook 형식

mobi와 azw3입니다. 다른 유형의 eBook은 가져올 때 자동으로 무시됩니다.

# 문제 해결

인터넷에서 **수천**권의 eBooks을 다운로드 한 후 이것들을 어떻게 효율적으로 관리합니까?

<br />

다양한 eBooks의 질은 크게 차이가 나며 일반 작가나 세계적인 작가 등 여러 가지 장르도 많습니다.

<br />

매번 수천 권의 도서가 포함된 디렉터리에서 책을 검색해야하는 경우 머리가 아픕니다. 따라서 이러한 eBooks을 적절하게 관리하여 특정 기호에 따라 작은 범위 내에서 책을 검색하고 원하는 책을 빠르게 찾아 시간 낭비를 피할 수 있도록해야합니다.

<br />

`lazykindler`는 이러한 목적으로 탄생되었습니다.


# 기능 소개

## 1. 책 가져오기

`파일 업로드` 버튼을 클릭하면 플랫폼은 `~/Download`, `~/다운로드`, `~/Desktop`, `~/바탕화면` 등의 디렉토리에서 지원되는 전자책 파일을 재귀적으로 스캔합니다. 중복 파일은 다시 업로드되지 않습니다.

<br />

현재, 가져올 수 있는 형식은 `mobi`와 `azw3`뿐이며, 플랫폼에서 전자책 형식 변환 기능을 제공하지 않습니다. 특정한 형식의 전자책을 찾는 것은 쉽습니다; 보통 이 웹사이트(http://www.fast8.com)에서 찾습니다. 이 사이트의 장점은 많은 종류의 책들과 여러 가지 포맷 옵션이 제공된다는 것입니다. 원하는 포맷으로 책을 다운로드하기만 하면 됩니다.

## 2. 메타데이터 추가

별점, 태그, 컬렉션, 작가, 출판사 및 커버를 수정할 수 있습니다. 이러한 조작들은 실제로 책 파일 자체를 수정하지 않고 데이터베이스에 레코드를 추가합니다.

## 3. 정보 파싱

전자책을 가져온 후, 플랫폼은 자동으로 전자책 파일에서 데이터를 추출하여 정보를 표시하고 관리합니다.

## 4. 컬렉션

`과학 소설 컬렉션`, `판타지 소설 컬렉션`, `로맨스 소설 컬렉션` 등의 책들을 모아서 컬렉션을 만들 수 있습니다. 원하는 대표적인 커버를 추가하고, 해당하는 태그와 별점도 부여할 수 있습니다. 각각의 컬렉션에는 도서관에서 선택한 책들이 추가될 수 있으며, 해당하는 태그와 별점도 부여할 수 있습니다. 여러 개의 컬렉션이 있다면 나중에 이러한 컬렉션에서 직접 책을 검색할 수 있습니다.

## 5. 디스플레이

다양한 차원에서 책을 보여주기 위해, 책에 대해 `별점`과 `태그`를 붙일 뿐만 아니라 작가와 출판사도 수정할 수 있습니다. 별점, 태그, 작가 및 출판사 등 다양한 차원에서 책을 보여줄 수 있으며, 또한 `커버 이미지`도 수정할 수 있습니다.

## 6. 다운로드

플랫폼에서는 책을 다운로드할 수 있습니다. 책 카드의 `작업` 섹션에서 `다운로드` 버튼을 클릭하면 됩니다. 다운로드한 책은 사용자의 홈 디렉터리 아래에 있는 `Download` 또는 `다운로드` 폴더에 저장됩니다. 홈 페이지에서 `모든 책 다운로드`를 클릭하면 모든 책이 사용자의 홈 디렉터리 내 `lazykindler` 디렉터리 하위의 `Documents`(또는 '문서') 또는 '文稿' 폴더에 다운로드됩니다. 여러 번 클릭해도 기존의 책들은 재다운로드되지 않습니다.

## 7. 독서

이 플랫폼은 책을 읽는 기본적인 기능을 제공합니다. 현재 `reactjs`를 사용하여 `mobi` 및 `azw3` 형식의 도서를 읽는 라이브러리를 찾지 못했습니다. 따라서 처음으로 '책 읽기' 버튼을 클릭할 때 이 두 형식을 `epub` 형식으로 변환합니다. 변환에 사용되는 도구는 `/Applications/calibre.app/Contents/MacOS/ebook-convert`입니다. 컴퓨터에서 책 읽기 기능을 올바르게 사용하려면 `calibre`가 설치되어 있어야 합니다. '책 읽기'를 클릭하는 첫 번째 시간에만 변환이 필요하며, 대기 시간은 전자 책의 크기에 따라 다르지만 일반적으로 빠릅니다. 변환된 책은 메인 플랫폼의 `backend/data` 디렉터리에 저장됩니다.

## 8. 처리 워크플로우

'Books -> Library' 페이지에서 표시되는 책은 공식적으로 저장된 책이고, 최근 가져온 새로운 책은 'Books -> Temporary' 페이지에서 표시됩니다(페이지 위치 외에도 백엔드에서 공식과 임시 책 사이에 큰 차이는 없습니다). 임시 책을 어떤 컬렉션에 추가하면 'Books -> Temporary'에서 'Books -> Library'로 이동됩니다. 이것의 목적은 공식적으로 저장된 책과 일시적으로 가져온 책을 구분하기 위한 것입니다. 공식적으로 저장된 책은 필터링되어 원치 않는 책이 제거되고 분류되었으며, 일시적으로 가져온 책은 다양합니다.

## 9. 백업

사용하는 데이터베이스는 `sqlite3`이며, `backend/lazykindler.db`에 위치합니다. 플랫폼을 처음 시작할 때 데이터베이스 파일은 자동으로 생성되고 초기화됩니다. 이 파일에는 도서를 제외한 모든 데이터 정보가 포함됩니다. 가져온 도서는 `backend/data` 디렉터리로 복사됩니다. 내부 플랫폼 작업을 더욱 용이하게 하기 위해 `backend/data` 디렉터리의 도서 이름 뒤에 해당 도서의 `md5` 값을 추가합니다.

<br />

플랫폼에서 모든 도서와 데이터를 백업하려면 간단히 `backend/lazykindler.db`와 `backend/data`를 저장하세요. 다음 번 위치에서 서비스를 시작하려면 `backend/lazykindler.db`와 `backend/data`를 해당 위치로 복사하세요.

## 10. 킨들 하이라이트 가져오기

현재 이 기능은 Mac 플랫폼에서만 지원됩니다.

<br />

플랫폼은 `kindle`이 연결되어 있는지 자동으로 감지합니다. 컴퓨터에 `kindle`을 연결하면, 플랫폼은 `My Clippings.txt` 파일을 `kindle`로부터 가져와서 일원화된 관리 및 다차원적인 디스플레이를 위해 사용합니다. 만약 `kindle`의 'My Clippings.txt' 파일이 변경되면, 플랫폼은 자동으로 새롭게 추가된 내용을 'My Clippings.txt'에서 가져올 것입니다. 그리고 중복해서 옛날 데이터가 불러와지는 일도 없습니다. 사용자는 컴퓨터에 kindle을 연결한 후 페이지를 새로 고침하여 새롭게 추가된 내용을 볼 수 있습니다.

<br />

유저가 하이라이트 노트를 추가할 때, kindle은 여러 단락의 내용일지라도 줄바꿈 없는 한 덩어리의 글로 처리합니다. lazykindler는 kindle의 My Clippings.txt 파일을 가져올 때 줄바꿈 등록과 같은 작업들도 스마트하게 인식하여 처리합니다.

<img src="https://user-images.githubusercontent.com/16133390/210229975-4e7145e7-5d91-4aff-85ff-f5550fd7fe2c.png" width="66%">

## 11. 하이라이트 노트에서 보조적인 하이라이팅 수행하기

하이라이트 노트는 책을 읽을 때 우리가 강조하고 기록한 텍스트나 관련 단락입니다. 이것은 종종 그 안에 있는 문장 혹은 단어가 우리에게 어떤 영향을 주었기 때문입니다. 하이라이트된 노트를 플랫폼으로 가져온 후, 정렬 과정에서 해당 문장 혹은 단어를 다시 강조하여, 자신과 공감하는 작은 부분의 글자들만 강조 및 디스플레이할 수 있도록 해야합니다.

<br />

lazykindler를 사용하면 쉽게 보조적인 하일라잇팅을 할 수 있습니다. 관련된 텍스트를 선택한 후 자동으로 팝업되는 대화상자에서 `OK` 버튼을 클릭하세요.

<img src="https://user-images.githubusercontent.com/16133390/210230077-c9a4532b-aafc-4ba2-a163-cd151c98d831.png" width="66%">

## 12. 하일라잇노트에 코멘트 추가하기

당신의 생각을 기록할 수 있습니다.

<img width="1379" alt="Xnip2023-02-05_15-19-18" src="https://user-images.githubusercontent.com/16133390/216806787-4b76a541-608d-4e8e-9d8e-2651bf7842ef.png">

## 13. 징두 티안샤 apk에서 하이라이트 가져오기

`징두 티안샤 apk`는 안드로이드 플랫폼에서 인기 있는 리더입니다. 저는 현재 이 소프트웨어를 Hisense e-reader에서 책을 읽는 데 사용하고 있으며, 이 소프트웨어는 하이라이트된 노트 추가도 지원합니다. 그래서 이 소프트웨어에서 하이라이트된 노트를 가져올 수 있도록 지원을 추가했습니다.

<br />

`Jingdu Tianxia apk`에서 내보낸 하이라이트된 노트 파일의 형식은 `.mrexpt`입니다. 이 파일을 `~/Download`, `~/다운로드`, `~/Desktop`, `~/바탕화면` 등의 디렉터리에 위치시켜놓으면, 플랫폼은 자동으로 가져오기 작업을 완료할 수 있습니다.

## 14. 킨들 어휘 생성기 가져오기

Vocabulary Builder는 Kindle의 기능 중 하나로, 책을 읽으면서 검색한 단어나 구문을 기록합니다. 영문 원서를 읽고 단어를 기록하여 나중에 학습 및 복습에 활용할 수 있습니다. 해당 플랫폼은 이러한 어휘를 가져오는 것을 지원합니다.

이러한 어휘를 가져와 기반으로, 플랫폼은 이 정보를 표시하는 좋은 인터페이스를 제공하며, 수동으로 어휘 및 예제를 생성하고 예제에 번역을 추가할 수 있습니다.

<img width="1322" alt="Xnip2023-03-31_23-23-41" src="https://user-images.githubusercontent.com/16133390/229163528-952ee43f-bf31-43a7-b39b-98d637e584da.png">
<img width="1320" alt="Xnip2023-03-31_23-23-57" src="https://user-images.githubusercontent.com/16133390/229163550-8c321a41-7df4-41af-9bd0-fd765e113a1f.png">

# 시스템 요구 사항

`python 3.10.4`

`nodejs v19.6.0`

`Calibre`

다른 버전은 테스트되지 않았습니다.

# 서비스 시작하기

## 종속성 설치

1. `backend` 디렉토리에서 실행하세요.

```

pip3 install -r requirements.txt

```

2. `frontend` 디렉토리에서 실행하세요.

```

yarn install

```

## 서비스 시작하기

```

./start.sh

```

그런 다음 브라우저에서 http://localhost:8000을 방문하세요.

## 서비스 중지하기

```

./stop.sh

```

## 참고사항

이 플랫폼은 개인용으로 설계되어 로그인 및 등록과 같은 기능이 없습니다.

# 플랫폼 쇼케이스

아래는 책 업로드 및 컬렉션 구성 후 내 로컬 설정 스크린샷입니다.

<img width="1418" alt="1" src="https://user-images.githubusercontent.com/16133390/216806475-97ee4960-40cc-4649-b414-0687724bb6ad.png">
<br />
<img width="1398" alt="Xnip2023-02-05_15-13-49" src="https://user-images.githubusercontent.com/16133390/216806612-dc1baf4f-7ed5-4b3d-ab44-73c7f07c73a7.png">
<br />
<img width="1418" alt="2" src="https://user-images.githubusercontent.com/16133390/216806480-def76f45-f8ba-41fc-9512-a448e9fbce32.png">
<br />
<img width="1418" alt="3" src="https://user-images.githubusercontent.com/16133390/216806485-caf74fe2-0cef-45f8-9a29-47780e72132d.png">
<br />
<img width="1799" alt="Xnip2023-02-14_12-36-20" src="https://user-images.githubusercontent.com/16133390/218640667-ba74048a-3b78-41c6-a772-dc1e56485b56.png">

<br />
<img width="1801" alt="Xnip2023-02-14_12-36-38" src="https://user-images.githubusercontent.com/16133390/218640680-263195c2-7ac3-4947-b7a5-b70375074e9c.png">

<br />

# 기타

`Kindle`을 위한 가장 유명한 도구는 `calibre`일 것입니다. 그러나 이 소프트웨어의 기능은 "편집"에 더 중점을 두고 있으며, 전자책의 다차원 표시는 비교적 간단합니다. 따라서, 저는 실용적인 요구를 충족하는 전자책 관리 도구를 특별히 작성하기로 계획하고 있습니다.

현재, 저는 여가 시간에 이 도구를 개발하고 있습니다. 만약 당신도 전자책을 읽는 것을 좋아하고 전자책 관리 기능에 대한 제안이 있다면 언제든지 문제를 제기해 주세요.

문제나 기능 요청 사항이 있다면, 저자에게 연락해 주십시오. 이메일: wupengcn301@gmail.com, WeChat: leowucn. 감사합니다.
